<template>
    <div class="slds-grid slds-grid_align-center slds-var-m-top_medium">
        <div class="slds-col">
            <lightning-button variant="brand" label="スキャン" title="バーコードをスキャンする" icon-name="utility:scan"
                class="slds-var-m-left_x-small" onclick={handleBeginScanClick}></lightning-button>
        </div>
    </div>
    <template if:true={scannedBarcodeMessage}>
        <div class="slds-grid slds-grid_align-center slds-var-m-top_small">
            <div class="slds-col">
                <lightning-formatted-text value={scannedBarcodeMessage}></lightning-formatted-text>
            </div>
        </div>
    </template>
    <template if:true={hasResult}>
        <div class="slds-grid slds-grid_align-center slds-var-m-top_small">
            <div class="slds-col">
                <lightning-card title="スキャン結果">
                    <p class="slds-var-p-horizontal_small">
                        スキャン結果レコードが作成されました。
                    </p>
                    <p class="slds-var-p-horizontal_small">
                        <lightning-formatted-text value={scanedResultName}></lightning-formatted-text>
                    </p>
                    <div class="slds-grid slds-grid_align-center">
                        <div class="slds-col">
                            <lightning-button variant="Neutral" label="レコードを開く" title="スキャンした結果のレコードを開く"
                                class="slds-var-m-left_x-small" onclick={handleOpenRecord}></lightning-button>
                        </div>
                    </div>
                </lightning-card>
            </div>
        </div>
    </template>
    <template if:false={scannedBarcodeMessage}>
        <div class="slds-grid slds-grid_align-center slds-var-m-top_medium">
            <div class="slds-col">
                <p class="slds-var-p-horizontal_small">
                    スキャンボタンを押して、バーコードを読み取ってください。
                    カメラを使用する権限を求められた場合は、許可しないとバーコードを読み取れません。
                    利用しているAPIの制限で、すべての商品が検索できるわけではありません。
                </p>
            </div>
        </div>
    </template>
</template>